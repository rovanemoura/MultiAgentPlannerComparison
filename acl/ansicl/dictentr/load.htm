<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<html>

<head><!-- 
  Document                : load.htm
  representing node       : load  [ID:NO-1408]
                 of class : DictEntry  [ID:SC-9]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:51:41 23.07.98

  About SchemaText        : http://www.schema.de
-->

<meta NAME="GENERATOR" CONTENT="Microsoft FrontPage 3.0">
<meta NAME="AUTHOR" CONTENT="Franz Inc.">
<meta NAME="DATE" CONTENT="23.07.98">
<meta NAME="TIME" CONTENT="09:51:09">
<meta NAME="VERSION" CONTENT="520">
<title>load</title>
</head>

<body BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>


<p><a NAME="DictEntry_load_1408"></a></p>
<font FACE="ARIAL,GENEVA,HELVETICA"><a HREF="../ansicl.htm" TARGET="_self">

<p><img SRC="a-top12b.gif" BORDER="0" WIDTH="12" HEIGHT="12" ALT="Home"></a><img
SRC="void16.gif" BORDER="0" WIDTH="16" HEIGHT="16"> <a HREF="compile2.htm"><img
SRC="a-lft12b.gif" BORDER="0" WIDTH="12" HEIGHT="12" ALT="Previous"></a> <a
HREF="../section/diction0.htm" TARGET="_self"><img SRC="a-up12b.gif" BORDER="0" WIDTH="12"
HEIGHT="12" ALT="Up"></a> <a HREF="with-com.htm"><img SRC="a-rgh12b.gif" BORDER="0"
WIDTH="12" HEIGHT="12" ALT="Next"></a><img SRC="void16.gif" BORDER="0" WIDTH="16"
HEIGHT="16"> <a HREF="../meta/tableofc.htm" TARGET="_self"><img SRC="toc.gif" BORDER="0"
WIDTH="16" HEIGHT="16" ALT="Table of Contents"></a><img SRC="void16.gif" BORDER="0"
WIDTH="16" HEIGHT="16"> <a HREF="../meta/index.htm" TARGET="_self"><img SRC="i16.gif"
BORDER="0" WIDTH="16" HEIGHT="16" ALT="Index"></a> </p>

<hr NOSHADE>

<table WIDTH="90%">
  <tr>
    <td WIDTH="5%"></td>
    <td WIDTH="95%"><font SIZE="-2"><a HREF="../ansicl.htm">ANSI Common Lisp</a>&nbsp;&nbsp;<img
    SRC="a-rgh6b.gif" BORDER="0" WIDTH="6" HEIGHT="6">&nbsp;<a HREF="../chapter/systemco.htm">24
    System Construction</a>&nbsp;&nbsp;<img SRC="a-rgh6b.gif" BORDER="0" WIDTH="6" HEIGHT="6">&nbsp;<a
    HREF="../section/diction0.htm">24.2 Dictionary of System Construction</a> </font><table
    BORDER="0" WIDTH="100%">
      <tr>
        <td><font SIZE="+2">24.2.3 load</font></td>
        <td ALIGN="RIGHT"><font SIZE="+1"><i>Function</i></font></td>
      </tr>
    </table>
    <dl>
      <dt><b>Syntax:</b></dt>
      <dd><b>load</b> <i>filespec <tt>&amp;key</tt> <nobr>verbose print</nobr> <nobr>if-does-not-exist
        external-format</nobr></i><br>
        &nbsp; &nbsp;&nbsp;<img SRC="rightarr.gif" BORDER="0" WIDTH="14" HEIGHT="9"> <i>generalized-boolean</i>
      </dd>
      <dt><b>Arguments and Values:</b></dt>
      <dd><i>filespec</i> - a <i><a HREF="../glossary/s.htm#stream">stream</a></i>, or a <i><a
        HREF="../glossary/p.htm#pathnamedesignator">pathname designator</a></i>. The default is
        taken from <a HREF="default-.htm"><b>*default-pathname-defaults*</b></a>. <p ID="6"><i>verbose</i>
        - a <i><a HREF="../glossary/g.htm#generalizedboolean">generalized boolean</a></i>. The
        default is the <i><a HREF="../glossary/v.htm#value">value</a></i> of <a
        HREF="load-pri.htm"><b>*load-verbose*</b></a>. </p>
        <p ID="7"><i>print</i> - a <i><a HREF="../glossary/g.htm#generalizedboolean">generalized
        boolean</a></i>. The default is the <i><a HREF="../glossary/v.htm#value">value</a></i> of <a
        HREF="load-pri.htm"><b>*load-print*</b></a>. </p>
        <p ID="8"><i>if-does-not-exist</i> - a <i><a HREF="../glossary/g.htm#generalizedboolean">generalized
        boolean</a></i>. The default is <i><a HREF="../glossary/t.htm#true">true</a></i>. </p>
        <p ID="9"><i>external-format</i> - an <i><a
        HREF="../glossary/e.htm#externalfileformatdesignator">external file format designator</a></i>.
        The default is <tt>:default</tt>. </p>
        <p ID="10"><i>generalized-boolean</i> - a <i><a
        HREF="../glossary/g.htm#generalizedboolean">generalized boolean</a></i>. </p>
      </dd>
      <dt><b>Description:</b></dt>
      <dd><a HREF="#DictEntry_load_1408"><b>load</b></a> <i><a HREF="../glossary/l.htm#load">loads</a></i>
        the <i><a HREF="../glossary/f.htm#file">file</a></i> named by <i>filespec</i> into the <i>Lisp</i>&nbsp;environment.
        <p ID="12">The manner in which a <i><a HREF="../glossary/s.htm#sourcefile">source file</a></i>
        is distinguished from a <i><a HREF="../glossary/c.htm#compiledfile">compiled file</a></i>
        is <i><a HREF="../glossary/i.htm#implementationdependent">implementation-dependent</a></i>.
        If the file specification is not complete and both a <i><a
        HREF="../glossary/s.htm#sourcefile">source file</a></i> and a <i><a
        HREF="../glossary/c.htm#compiledfile">compiled file</a></i> exist which might match, then
        which of those files <a HREF="#DictEntry_load_1408"><b>load</b></a> selects is <i><a
        HREF="../glossary/i.htm#implementationdependent">implementation-dependent</a></i>. </p>
        <p ID="13">If <i>filespec</i> is a <i><a HREF="../glossary/s.htm#stream">stream</a></i>, <a
        HREF="#DictEntry_load_1408"><b>load</b></a> determines what kind of <i><a
        HREF="../glossary/s.htm#stream">stream</a></i> it is and loads directly from the <i><a
        HREF="../glossary/s.htm#stream">stream</a></i>. If <i>filespec</i> is a <i><a
        HREF="../glossary/l.htm#logicalpathname">logical pathname</a></i>, it is translated into a
        <i><a HREF="../glossary/p.htm#physicalpathname">physical pathname</a></i> as if by calling
        <a HREF="translat.htm"><b>translate-logical-pathname</b></a>. </p>
        <p ID="14"><a HREF="#DictEntry_load_1408"><b>load</b></a> sequentially executes each <i><a
        HREF="../glossary/f.htm#form">form</a></i> it encounters in the <i><a
        HREF="../glossary/f.htm#file">file</a></i> named by <i>filespec</i>. If the <i><a
        HREF="../glossary/f.htm#file">file</a></i> is a <i><a HREF="../glossary/s.htm#sourcefile">source
        file</a></i> and the <i><a HREF="../glossary/i.htm#implementation">implementation</a></i>
        chooses to perform <i><a HREF="../glossary/i.htm#implicitcompilation">implicit compilation</a></i>,
        <a HREF="#DictEntry_load_1408"><b>load</b></a> must recognize <i><a
        HREF="../glossary/t.htm#toplevelform">top level forms</a></i> as described in Section <a
        HREF="../subsubse/processi.htm">3.2.3.1 Processing of Top Level Forms</a> and arrange for
        each <i><a HREF="../glossary/t.htm#toplevelform">top level form</a></i> to be executed
        before beginning <i><a HREF="../glossary/i.htm#implicitcompilation">implicit compilation</a></i>
        of the next. (Note, however, that processing of <a HREF="eval-whe.htm"><b>eval-when</b></a>
        <i><a HREF="../glossary/f.htm#form">forms</a></i> by <a HREF="#DictEntry_load_1408"><b>load</b></a>
        is controlled by the <tt>:execute</tt> situation.) </p>
        <p ID="15">If <i>verbose</i> is <i><a HREF="../glossary/t.htm#true">true</a></i>, <a
        HREF="#DictEntry_load_1408"><b>load</b></a> prints a message in the form of a comment (<i>i.e.</i>,
        with a leading <i><a HREF="../glossary/s.htm#semicolon">semicolon</a></i>) to <i><a
        HREF="../glossary/s.htm#standardoutput">standard output</a></i> indicating what <i><a
        HREF="../glossary/f.htm#file">file</a></i> is being <i>loaded</i> and other useful
        information. If <i>verbose</i> is <i><a HREF="../glossary/f.htm#false">false</a></i>, <a
        HREF="#DictEntry_load_1408"><b>load</b></a> does not print this information. </p>
        <p ID="16">If <i>print</i> is <i><a HREF="../glossary/t.htm#true">true</a></i>, <a
        HREF="#DictEntry_load_1408"><b>load</b></a> incrementally prints information to <i><a
        HREF="../glossary/s.htm#standardoutput">standard output</a></i> showing the progress of
        the <i>loading</i> process. For a <i><a HREF="../glossary/s.htm#sourcefile">source file</a></i>,
        this information might mean printing the <i><a HREF="../glossary/v.htm#value">values</a></i>
        <i>yielded</i> by each <i><a HREF="../glossary/f.htm#form">form</a></i> in the <i><a
        HREF="../glossary/f.htm#file">file</a></i> as soon as those <i><a
        HREF="../glossary/v.htm#value">values</a></i> are returned. For a <i><a
        HREF="../glossary/c.htm#compiledfile">compiled file</a></i>, what is printed might not
        reflect precisely the contents of the <i><a HREF="../glossary/s.htm#sourcefile">source
        file</a></i>, but some information is generally printed. If <i>print</i> is <i><a
        HREF="../glossary/f.htm#false">false</a></i>, <a HREF="#DictEntry_load_1408"><b>load</b></a>
        does not print this information. </p>
        <p ID="17">If the file named by <i>filespec</i> is successfully loaded, <a
        HREF="#DictEntry_load_1408"><b>load</b></a> returns <i><a HREF="../glossary/t.htm#true">true</a></i>.
        </p>
        <p ID="18">If the file does not exist, the specific action taken depends on <i>if-does-not-exist</i>:
        if it is <a HREF="nil.htm"><b>nil</b></a>, <a HREF="#DictEntry_load_1408"><b>load</b></a>
        returns <a HREF="nil.htm"><b>nil</b></a>; otherwise, <a HREF="#DictEntry_load_1408"><b>load</b></a>
        signals an error. </p>
        <p ID="19">The <i>external-format</i> specifies the <i><a
        HREF="../glossary/e.htm#externalfileformat">external file format</a></i> to be used when
        opening the <i><a HREF="../glossary/f.htm#file">file</a></i> (see the <i><a
        HREF="../glossary/f.htm#function">function</a></i> <a HREF="open.htm"><b>open</b></a>),
        except that when the <i><a HREF="../glossary/f.htm#file">file</a></i> named by <i>filespec</i>
        is a <i><a HREF="../glossary/c.htm#compiledfile">compiled file</a></i>, the <i>external-format</i>
        is ignored. <a HREF="compile-.htm"><b>compile-file</b></a> and <a
        HREF="#DictEntry_load_1408"><b>load</b></a> cooperate in an <i><a
        HREF="../glossary/i.htm#implementationdependent">implementation-dependent</a></i> way to
        assure the preservation of the <i><a HREF="../glossary/s.htm#similarity">similarity</a></i>
        of <i><a HREF="../glossary/c.htm#character">characters</a></i> referred to in the <i><a
        HREF="../glossary/s.htm#sourcefile">source file</a></i> at the time the <i><a
        HREF="../glossary/s.htm#sourcefile">source file</a></i> was processed by the <i><a
        HREF="../glossary/f.htm#filecompiler">file compiler</a></i> under a given <i><a
        HREF="../glossary/e.htm#externalfileformat">external file format</a></i>, regardless of
        the value of <i>external-format</i> at the time the <i><a
        HREF="../glossary/c.htm#compiledfile">compiled file</a></i> is <i>loaded</i>. </p>
        <p ID="20"><a HREF="#DictEntry_load_1408"><b>load</b></a> binds <a HREF="readtabl.htm"><b>*readtable*</b></a>
        and <a HREF="package.htm"><b>*package*</b></a> to the values they held before <i>loading</i>
        the file. </p>
        <p ID="21"><a HREF="load-pat.htm"><b>*load-truename*</b></a> is <i><a
        HREF="../glossary/b.htm#bound">bound</a></i> by <a HREF="#DictEntry_load_1408"><b>load</b></a>
        to hold the <i><a HREF="../glossary/t.htm#truename">truename</a></i> of the <i><a
        HREF="../glossary/p.htm#pathname">pathname</a></i> of the file being <i>loaded</i>. </p>
        <p ID="22"><a HREF="load-pat.htm"><b>*load-pathname*</b></a> is <i><a
        HREF="../glossary/b.htm#bound">bound</a></i> by <a HREF="#DictEntry_load_1408"><b>load</b></a>
        to hold a <i><a HREF="../glossary/p.htm#pathname">pathname</a></i> that represents <i>filespec</i>
        merged against the defaults. That is, <tt>(pathname (merge-pathnames <i>filespec</i>))</tt>.
        </p>
      </dd>
      <dt><b>Examples:</b></dt>
      <dd><pre ID="24">
;Establish a data file...
 (with-open-file (str &quot;data.in&quot; :direction :output :if-exists :error)
   (print 1 str) (print '(setq a 888) str) t)
<img
SRC="rightarr.gif" BORDER="0" WIDTH="14" HEIGHT="9">  T
 (load &quot;data.in&quot;) <img
SRC="rightarr.gif" BORDER="0" WIDTH="14" HEIGHT="9"> <i><a HREF="../glossary/t.htm#true">true</a></i>
 a <img
SRC="rightarr.gif" BORDER="0" WIDTH="14" HEIGHT="9"> 888
 (load (setq p (merge-pathnames &quot;data.in&quot;)) :verbose t)
; Loading contents of file /fred/data.in
; Finished loading /fred/data.in
<img
SRC="rightarr.gif" BORDER="0" WIDTH="14" HEIGHT="9"> <i><a HREF="../glossary/t.htm#true">true</a></i>
 (load p :print t) 
; Loading contents of file /fred/data.in
;  1
;  888
; Finished loading /fred/data.in
<img
SRC="rightarr.gif" BORDER="0" WIDTH="14" HEIGHT="9"> <i><a HREF="../glossary/t.htm#true">true</a></i>
</pre>
        <pre ID="26">
 ;- - [Begin file SETUP]- - 
 (in-package &quot;MY-STUFF&quot;)
 (defmacro compile-truename () `',*compile-file-truename*)
 (defvar *my-compile-truename* (compile-truename) &quot;Just for debugging.&quot;)
 (defvar *my-load-pathname* *load-pathname*)
 (defun load-my-system ()
   (dolist (module-name '(&quot;FOO&quot; &quot;BAR&quot; &quot;BAZ&quot;))
     (load (merge-pathnames module-name *my-load-pathname*))))
 ;- - [End of file SETUP]- - 

 
 (load &quot;SETUP&quot;)
 (load-my-system)
</pre>
      </dd>
      <dt><b>Affected By:</b></dt>
      <dd>The implementation, and the host computer's file system. </dd>
      <dt><b>Exceptional Situations:</b></dt>
      <dd>If <tt>:if-does-not-exist</tt> is supplied and is <i><a HREF="../glossary/t.htm#true">true</a></i>,
        or is not supplied, <a HREF="#DictEntry_load_1408"><b>load</b></a> signals an error of <i><a
        HREF="../glossary/t.htm#type">type</a></i> <a HREF="file-err.htm"><b>file-error</b></a> if
        the file named by <i>filespec</i> does not exist, or if the <i><a
        HREF="../glossary/f.htm#filesystem">file system</a></i> cannot perform the requested
        operation. <p ID="29">An error of <i><a HREF="../glossary/t.htm#type">type</a></i> <a
        HREF="file-err.htm"><b>file-error</b></a> might be signaled if <tt>(wild-pathname-p <i>filespec</i>)</tt>
        returns <i><a HREF="../glossary/t.htm#true">true</a></i>. </p>
      </dd>
      <dt><b>See Also:</b></dt>
      <dd><a HREF="error.htm"><b>error</b></a>, <a HREF="merge-pa.htm"><b>merge-pathnames</b></a>,
        <a HREF="load-pri.htm"><b>*load-verbose*</b></a>, <a HREF="default-.htm"><b>*default-pathname-defaults*</b></a>,
        <a HREF="pathname.htm"><b>pathname</b></a>, <a HREF="logical-.htm"><b>logical-pathname</b></a>,
        Section <a HREF="../section/filesyst.htm">20.1 File System Concepts</a>, Section <a
        HREF="../subsecti/pathnam0.htm">19.1.2 Pathnames as Filenames</a> </dd>
      <dt><b>Allegro CL Implementation Details:</b></dt>
      <dd>See <a href="../../doc/loading.htm">loading.htm</a>.</dd>
    </dl>
    </td>
  </tr>
</table>

<hr NOSHADE>
<a HREF="../ansicl.htm" TARGET="_self">

<p><img SRC="a-top12b.gif" BORDER="0" WIDTH="12" HEIGHT="12" ALT="Home"></a><img
SRC="void16.gif" BORDER="0" WIDTH="16" HEIGHT="16"> <a HREF="compile2.htm"><img
SRC="a-lft12b.gif" BORDER="0" WIDTH="12" HEIGHT="12" ALT="Previous"></a> <a
HREF="../section/diction0.htm" TARGET="_self"><img SRC="a-up12b.gif" BORDER="0" WIDTH="12"
HEIGHT="12" ALT="Up"></a> <a HREF="with-com.htm"><img SRC="a-rgh12b.gif" BORDER="0"
WIDTH="12" HEIGHT="12" ALT="Next"></a><img SRC="void16.gif" BORDER="0" WIDTH="16"
HEIGHT="16"> <a HREF="../meta/tableofc.htm" TARGET="_self"><img SRC="toc.gif" BORDER="0"
WIDTH="16" HEIGHT="16" ALT="Table of Contents"></a><img SRC="void16.gif" BORDER="0"
WIDTH="16" HEIGHT="16"> <a HREF="../meta/index.htm" TARGET="_self"><img SRC="i16.gif"
BORDER="0" WIDTH="16" HEIGHT="16" ALT="Index"></a> </p>

<hr NOSHADE>
<small><i><b>

<p>&#169; Franz Inc. 1998-2015</b> - File last updated 03-23-2015</i></small> </font></p>
</body>
</html>
