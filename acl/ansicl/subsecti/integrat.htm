<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : integrat.htm
  representing node       : Integrating Types and Classes  [ID:NO-334]
                 of class : SubSection  [ID:SC-4]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:55:04 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>Integrating Types and Classes</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="SubSection_Integrating__334"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsubse/customiz.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/classes.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="../section/dictio20.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/typesand.htm">4 Types and Classes</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/classes.htm">4.3 Classes</A>

</FONT>
<H3 ID="2">4.3.7   Integrating Types and Classes</H3>

The object system&nbsp;maps the space of <I>classes</I> into the space of <I><A HREF="../glossary/t.htm#type">types</A></I>.
Every <I><A HREF="../glossary/c.htm#class">class</A></I> that has a proper name has a corresponding <I><A HREF="../glossary/t.htm#type">type</A></I> 
with the same <I><A HREF="../glossary/n.htm#name">name</A></I>.  

<P ID="3">
The proper name of every <I><A HREF="../glossary/c.htm#class">class</A></I> is a valid <I><A HREF="../glossary/t.htm#typespecifier">type specifier</A></I>.  In
addition, every <I><A HREF="../glossary/c.htm#class">class</A></I> <I><A HREF="../glossary/o.htm#object">object</A></I> is a valid <I><A HREF="../glossary/t.htm#typespecifier">type specifier</A></I>.  
Thus the expression <TT>(typep <I>object</I> <I>class</I>)</TT> evaluates to 
<I><A HREF="../glossary/t.htm#true">true</A></I> if the <I><A HREF="../glossary/c.htm#class">class</A></I> of <I>object</I> is <I>class</I> itself or 
a <I><A HREF="../glossary/s.htm#subclass">subclass</A></I> of <I><A HREF="../glossary/c.htm#class">class</A></I>.  The evaluation of the expression
<TT>(subtypep class1 class2)</TT> returns the values 


<I><A HREF="../glossary/t.htm#true">true</A></I> and <I><A HREF="../glossary/t.htm#true">true</A></I> if <TT>class1</TT> is a subclass of <TT>class2</TT> or if they are the
same <I><A HREF="../glossary/c.htm#class">class</A></I>; otherwise it returns the values 


<I><A HREF="../glossary/f.htm#false">false</A></I> and <I><A HREF="../glossary/t.htm#true">true</A></I>.

If  <I>I</I> is an <I><A HREF="../glossary/i.htm#instance">instance</A></I> of some <I><A HREF="../glossary/c.htm#class">class</A></I> <I>C</I> named <I>S</I> 
and <I>C</I> is an <I><A HREF="../glossary/i.htm#instance">instance</A></I> of <A HREF="../dictentr/standar0.htm"><B>standard-class</B></A>, 
the evaluation of the expression <TT>(type-of <I>I</I> )</TT> returns <I>S</I> 
if <I>S</I> is the <I><A HREF="../glossary/p.htm#propername">proper name</A></I> of <I>C</I>; 
otherwise, it returns <I>C</I>.

<P ID="4">
Because the names of <I>classes</I> 
and <I><A HREF="../glossary/c.htm#class">class</A></I> <I><A HREF="../glossary/o.htm#object">objects</A></I> are <I><A HREF="../glossary/t.htm#typespecifier">type specifiers</A></I>, they may
be used in the special form <A HREF="../dictentr/the.htm"><B>the</B></A> and in type declarations.

<P ID="5">
Many but not all of the predefined <I><A HREF="../glossary/t.htm#typespecifier">type specifiers</A></I> have a
corresponding <I><A HREF="../glossary/c.htm#class">class</A></I> with 
the same proper name as the <I><A HREF="../glossary/t.htm#type">type</A></I>.  These type
specifiers are listed in Figure <A HREF="#SubSection_Integrating__334">4.3.7 Integrating Types and Classes</A>.
For example, the <I><A HREF="../glossary/t.htm#type">type</A></I> <A HREF="../dictentr/array.htm"><B>array</B></A> has 
a corresponding <I><A HREF="../glossary/c.htm#class">class</A></I> named <A HREF="../dictentr/array.htm"><B>array</B></A>.  
No <I><A HREF="../glossary/t.htm#typespecifier">type specifier</A></I> that is a
list, such as <TT>(vector double-float 100)</TT>, has a corresponding <I><A HREF="../glossary/c.htm#class">class</A></I>.
The <I><A HREF="../glossary/o.htm#operator">operator</A></I> <A HREF="../dictentr/deftype.htm"><B>deftype</B></A> does not create any <I>classes</I>.

<P ID="6">
Each <I><A HREF="../glossary/c.htm#class">class</A></I> that corresponds to a predefined <I><A HREF="../glossary/t.htm#typespecifier">type specifier</A></I> can
be implemented in one of three ways, at the discretion of each implementation.
It can be a <I><A HREF="../glossary/s.htm#standardclass">standard class</A></I>,


a <I><A HREF="../glossary/s.htm#structureclass">structure class</A></I>,




or a <I><A HREF="../glossary/s.htm#systemclass">system class</A></I>.




<P ID="7">

A <I><A HREF="../glossary/b.htm#builtinclass">built-in class</A></I> is one whose <I><A HREF="../glossary/g.htm#generalizedinstance">generalized instances</A></I> have restricted capabilities 
or special representations.  Attempting to use <A HREF="../dictentr/defclass.htm"><B>defclass</B></A> to define 
<I>subclasses</I> of a <A HREF="../dictentr/built-in.htm"><B>built-in-class</B></A> signals an error.

Calling <A HREF="../dictentr/make-ins.htm"><B>make-instance</B></A> to create a <I><A HREF="../glossary/g.htm#generalizedinstance">generalized instance</A></I> of a 
<I><A HREF="../glossary/b.htm#builtinclass">built-in class</A></I> signals an error.  Calling <A HREF="../dictentr/slot-val.htm"><B>slot-value</B></A> on a

<I><A HREF="../glossary/g.htm#generalizedinstance">generalized instance</A></I> of a <I><A HREF="../glossary/b.htm#builtinclass">built-in class</A></I> signals an error.
Redefining a <I><A HREF="../glossary/b.htm#builtinclass">built-in class</A></I> or using <A HREF="../dictentr/change-c.htm"><B>change-class</B></A> to change

the <I><A HREF="../glossary/c.htm#class">class</A></I> of an <I><A HREF="../glossary/o.htm#object">object</A></I> to or from a <I><A HREF="../glossary/b.htm#builtinclass">built-in class</A></I> signals an error.
However, <I>built-in classes</I> can be used as <I><A HREF="../glossary/p.htm#parameterspecializer">parameter specializers</A></I> 
in <I><A HREF="../glossary/m.htm#method">methods</A></I>.

<P ID="8">
It is possible to determine whether a <I><A HREF="../glossary/c.htm#class">class</A></I> is a <I><A HREF="../glossary/b.htm#builtinclass">built-in class</A></I>
by checking the <I><A HREF="../glossary/m.htm#metaclass">metaclass</A></I>.
A <I><A HREF="../glossary/s.htm#standardclass">standard class</A></I>  is an <I><A HREF="../glossary/i.htm#instance">instance</A></I> of the <I><A HREF="../glossary/c.htm#class">class</A></I> <A HREF="../dictentr/standar0.htm"><B>standard-class</B></A>,
a <I><A HREF="../glossary/b.htm#builtinclass">built-in class</A></I>  is an <I><A HREF="../glossary/i.htm#instance">instance</A></I> of the <I><A HREF="../glossary/c.htm#class">class</A></I> <A HREF="../dictentr/built-in.htm"><B>built-in-class</B></A>, and
a <I><A HREF="../glossary/s.htm#structureclass">structure class</A></I> is an <I><A HREF="../glossary/i.htm#instance">instance</A></I> of the <I><A HREF="../glossary/c.htm#class">class</A></I> <A HREF="../dictentr/structu0.htm"><B>structure-class</B></A>.

<P ID="9">
Each <I><A HREF="../glossary/s.htm#structure">structure</A></I> <I><A HREF="../glossary/t.htm#type">type</A></I> created by <A HREF="../dictentr/defstruc.htm"><B>defstruct</B></A> without 
using the <TT>:type</TT> option has a corresponding <I><A HREF="../glossary/c.htm#class">class</A></I>.  

This <I><A HREF="../glossary/c.htm#class">class</A></I> is a <I><A HREF="../glossary/g.htm#generalizedinstance">generalized instance</A></I> of the <I><A HREF="../glossary/c.htm#class">class</A></I> <A HREF="../dictentr/structu0.htm"><B>structure-class</B></A>.  

The <TT>:include</TT> option of <A HREF="../dictentr/defstruc.htm"><B>defstruct</B></A> creates a direct
<I><A HREF="../glossary/s.htm#subclass">subclass</A></I> of the <I><A HREF="../glossary/c.htm#class">class</A></I> 
that corresponds to the included <I><A HREF="../glossary/s.htm#structure">structure</A></I> 

<I><A HREF="../glossary/t.htm#type">type</A></I>.

<P ID="10">



It is <I><A HREF="../glossary/i.htm#implementationdependent">implementation-dependent</A></I> whether <I><A HREF="../glossary/s.htm#slot">slots</A></I> are involved in the
operation of <I><A HREF="../glossary/f.htm#function">functions</A></I> defined in this specification
on <I><A HREF="../glossary/i.htm#instance">instances</A></I> of <I>classes</I> defined in this specification,
except when <I><A HREF="../glossary/s.htm#slot">slots</A></I> are explicitly defined by this specification.

<P ID="11">
If in a particular <I><A HREF="../glossary/i.htm#implementation">implementation</A></I> a <I><A HREF="../glossary/c.htm#class">class</A></I> defined in this specification
has <I><A HREF="../glossary/s.htm#slot">slots</A></I> that are not defined by this specfication, the names of these <I><A HREF="../glossary/s.htm#slot">slots</A></I>
must not be <I><A HREF="../glossary/e.htm#externalsymbol">external symbols</A></I> of <I><A HREF="../glossary/p.htm#package">packages</A></I> defined in this specification nor
otherwise <I><A HREF="../glossary/a.htm#accessible">accessible</A></I> in the <TT>cl-user</TT> <I><A HREF="../glossary/p.htm#package">package</A></I>.


<P ID="12">
                                                    
The purpose of specifying that many of the standard <I><A HREF="../glossary/t.htm#typespecifier">type specifiers</A></I> have a
corresponding <I><A HREF="../glossary/c.htm#class">class</A></I> is to enable users to write <I><A HREF="../glossary/m.htm#method">methods</A></I> that
discriminate on these <I><A HREF="../glossary/t.htm#type">types</A></I>.  <I><A HREF="../glossary/m.htm#method">Method</A></I> selection requires that a 
<I><A HREF="../glossary/c.htm#classprecedencelist">class precedence list</A></I> can be determined for each <I><A HREF="../glossary/c.htm#class">class</A></I>. 

<P ID="13">
The hierarchical relationships among the <I><A HREF="../glossary/t.htm#typespecifier">type specifiers</A></I> are mirrored by
relationships among the <I>classes</I> corresponding to those <I><A HREF="../glossary/t.htm#type">types</A></I>.  
<P ID="14">
Figure <A HREF="#SubSection_Integrating__334">4.3.7 Integrating Types and Classes</A>&nbsp;lists the set of <I>classes</I> 
that correspond to predefined <I><A HREF="../glossary/t.htm#typespecifier">type specifiers</A></I>.

<P ID="15">


<P ID="16">
<TABLE WIDTH="100%" BORDER=1 CELLSPACING=0 CELLPADDING=5>
<CAPTION ALIGN=BOTTOM>Classes that correspond to pre-defined type specifiers</CAPTION>

  <tr>
    <td>arithmetic-error</td>
    <td>generic-function</td>
    <td>simple-error</td>
  </tr>
  <tr>
    <td>array</td>
    <td>hash-table</td>
    <td>simple-type-error</td>
  </tr>
  <tr>
    <td>bit-vector</td>
    <td>integer</td>
    <td>simple-warning</td>
  </tr>
  <tr>
    <td>broadcast-stream</td>
    <td>list</td>
    <td>standard-class</td>
  </tr>
  <tr>
    <td>built-in-class</td>
    <td>logical-pathname</td>
    <td>standard-generic-function</td>
  </tr>
  <tr>
    <td>cell-error</td>
    <td>method</td>
    <td>standard-method</td>
  </tr>
  <tr>
    <td>character</td>
    <td>method-combination</td>
    <td>standard-object</td>
  </tr>
  <tr>
    <td>class</td>
    <td>null</td>
    <td>storage-condition</td>
  </tr>
  <tr>
    <td>complex</td>
    <td>number</td>
    <td>stream</td>
  </tr>
  <tr>
    <td>concatenated-stream</td>
    <td>package</td>
    <td>stream-error</td>
  </tr>
  <tr>
    <td>condition</td>
    <td>package-error</td>
    <td>string</td>
  </tr>
  <tr>
    <td>cons</td>
    <td>parse-error</td>
    <td>string-stream</td>
  </tr>
  <tr>
    <td>control-error</td>
    <td>pathname</td>
    <td>structure-class</td>
  </tr>
  <tr>
    <td>division-by-zero</td>
    <td>print-not-readable</td>
    <td>structure-object</td>
  </tr>
  <tr>
    <td>echo-stream</td>
    <td>program-error</td>
    <td>style-warning</td>
  </tr>
  <tr>
    <td>end-of-file</td>
    <td>random-state</td>
    <td>symbol</td>
  </tr>
  <tr>
    <td>error</td>
    <td>ratio</td>
    <td>synonym-stream</td>
  </tr>
  <tr>
    <td>file-error</td>
    <td>rational</td>
    <td>t</td>
  </tr>
  <tr>
    <td>file-stream</td>
    <td>reader-error</td>
    <td>two-way-stream</td>
  </tr>
  <tr>
    <td>float</td>
    <td>readtable</td>
    <td>type-error</td>
  </tr>
  <tr>
    <td>floating-point-inexact</td>
    <td>real</td>
    <td>unbound-slot</td>
  </tr>
  <tr>
    <td>floating-point-invalid-operation</td>
    <td>restart</td>
    <td>unbound-variable</td>
  </tr>
  <tr>
    <td>floating-point-overflow</td>
    <td>sequence</td>
    <td>undefined-function</td>
  </tr>
  <tr>
    <td>floating-point-underflow</td>
    <td>serious-condition</td>
    <td>vector</td>
  </tr>
  <tr>
    <td>function</td>
    <td>simple-condition</td>
    <td>warning</td>
  </tr>
</TABLE>



<P ID="17">
The <I><A HREF="../glossary/c.htm#classprecedencelist">class precedence list</A></I> information specified in the entries for
each of these <I>classes</I> are those that are required by the object system.

<P ID="18">
Individual implementations may be extended to define other type
specifiers to have a corresponding <I><A HREF="../glossary/c.htm#class">class</A></I>.  Individual implementations
may be extended to add other <I><A HREF="../glossary/s.htm#subclass">subclass</A></I> relationships and to add other
<I><A HREF="../glossary/e.htm#element">elements</A></I> to the <I><A HREF="../glossary/c.htm#classprecedencelist">class precedence lists</A></I> as long as
they do not violate the type relationships and disjointness
requirements specified by this standard.
A standard <I><A HREF="../glossary/c.htm#class">class</A></I> defined with no direct <I>superclasses</I> is guaranteed to
be disjoint from all of the <I>classes</I> in the table, except for the
class named <A HREF="../dictentr/t.htm"><B>t</B></A>.


<!-- eof: concept-classes.tex -->


<P ID="19">
<!-- file: dict-types.tex -->
</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsubse/customiz.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/classes.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="../section/dictio20.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2015</b> - File last updated 03-23-2015</I></SMALL>
</FONT>

</BODY>
</HTML>
